<html>

<head>
<link rel="stylesheet" href="styletraffic.css">
</head>
<body>
  
    <div id="header">
        <div class="road">
                <hr style="border: 5px solid white;
                border-radius: 5px;
                width: 40px; position: absolute; 
                bottom: 35%;left:5%;">
          <hr style="border: 5px solid white;
          border-radius: 5px;
          width: 40px; position: absolute; 
          bottom: 35%;left:25%;">
          <hr style="border: 5px solid white;
          border-radius: 5px;
          width: 40px; position: absolute; 
          bottom: 35%;left:55%;">
          <hr style="border: 5px solid white;
          border-radius: 5px;
          width: 40px; position: absolute; 
          bottom: 35%;left:75%;">

        </div>
    <div id="car">
         <div id="top"></div>
         <div id="back"></div>
         <div id="front"></div>
         <div id="wheel1">.</div>
         <div id="wheel2">.</div>
         <div id="windowf"></div>
         <div id="windowb"></div>
    </div>
</div>
    <br>
    <table >
        <tr>
                
            <td><button id="stop"  onclick="stop()">STOP</button></td>
            <td><button id="slow"  onclick="slowspeed()">SLOW</button></td>
            <td><button id="fast"  onclick="move()">GO</button></td>
            
        </tr>
        </table>
        <script>
        var pos=0;
       
        var max=1200;
            var movetimer,stoptimer;
        function move()
        {
            document.getElementById("fast").style="background-color: green";
            document.getElementById("slow").style="background-color: grey";
            document.getElementById("stop").style="background-color: grey";
            var car=document.getElementById("car");
           
            clearTimeout(stoptimer);
            if(pos<max){
            pos++;
             car.style.left=pos+"px";
            movetimer=setTimeout(move,8);
            }
            
        }
        function slowspeed()
        {
            document.getElementById("slow").style="background-color: yellow";
            document.getElementById("fast").style="background-color: grey";
           
            document.getElementById("stop").style="background-color: grey";
            var car=document.getElementById("car");
            clearTimeout(movetimer);
            if(pos<max){
                
            stoptimer=setTimeout(slowspeed,30);
             
                    pos=pos+1;
                    car.style.left=pos+"px";
                }
             }
        function stop()
        {
            document.getElementById("stop").style="background-color: red";
            document.getElementById("fast").style="background-color: grey";
            document.getElementById("slow").style="background-color: grey";

        clearTimeout(movetimer);
        clearTimeout(stoptimer);
       
        
        /*document.getElementById("demo").innerHTML="Dont move when you r on stop";*/
        }
        function start()
        {
            var car=document.getElementById("car");
            if(pos<max || pos==max)
            {
                pos=0;
                car.style.left="0px";
                slowspeed();
            }
            
        }
        // function rever()
        // {
        //     var car=document.getElementById("car");
            
        //     if(pos==max || pos<max)
        //     {
                    
        //         reversetimer=setTimeout(rever,15);
        //         pos--;
        //         car.style.left=pos+"px";
                
        //     }
        //     if(pos==0){
        //         clearTimeout(reversetimer);
        //     }
        //     
        
        
        </script>
        <button id="demo" onclick="start()"> start again</button>
        <!-- <button id="rever" onclick="rever()"> go reverse</button> -->
</body>
</html>
